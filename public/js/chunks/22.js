(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{534:function(e,t,o){"use strict";o.r(t);var r=o(2),s=o.n(r),n={name:"Creat",data:function(){return{products:[{name:"",one_piece_price:0,quantity:1,total_price:0,note:""}],customer_name:"",code:"",customer_mobile:"",total_price:0,order_price:0,discount:0,deliver_fees:0,delivery_time:"",imageIndex:null,showMessage:!1,number_of_products:0,message:"",alertColor:"",dismissSecs:7,dismissCountDown:0,showDismissibleAlert:!1}},methods:{addProduct:function(){this.products.push({name:"",one_piece_price:0,quantity:1,total_price:0,note:""})},goBack:function(){this.$router.go(-1),this.$router.replace({path:"/driver-applications"})},store:function(){var e=this,t=new FormData,o=0;this.number_of_products=this.products.length,this.products.forEach((function(e){o+=e.quantity*e.one_piece_price,e.total_price=e.quantity*e.one_piece_price})),this.order_price=o,this.total_price=parseInt(this.order_price)+parseInt(this.deliver_fees)-parseInt(this.discount),t.append("customer_name",this.customer_name),t.append("customer_mobile",this.customer_mobile),t.append("order_price",this.order_price),t.append("discount",this.discount),t.append("deliver_fees",this.deliver_fees),t.append("delivery_time",this.delivery_time),t.append("code",this.code),t.append("number_of_products",this.number_of_products),t.append("total_price",this.total_price),t.append("products",JSON.stringify(this.products)),s.a.post("/api/create-order?token="+localStorage.getItem("api_token"),t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){e.alertColor="success",e.message="Successfully Created Fleet.",e.showAlert()})).catch((function(t){console.log(t),e.alertColor="danger",e.message="unexpected error occurred in creating new fleet.",e.showAlert()}))},countDownChanged:function(e){this.dismissCountDown=e},showAlert:function(){this.dismissCountDown=this.dismissSecs}},mounted:function(){}},i=o(1),a=Object(i.a)(n,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("CRow",[o("CCol",{attrs:{col:"12",lg:"6"}},[o("CCard",{attrs:{"no-header":""}},[o("CCardBody",[o("template",{slot:"header"},[e._v("\n          Create Orders\n        ")]),e._v(" "),o("CAlert",{attrs:{show:e.dismissCountDown,color:e.alertColor,fade:""},on:{"update:show":function(t){e.dismissCountDown=t}}},[e._v("\n          ("+e._s(e.dismissCountDown)+") "+e._s(e.message)+"\n        ")]),e._v(" "),o("CInput",{attrs:{type:"text",label:"Customer Name",placeholder:"Customer Name.."},model:{value:e.customer_name,callback:function(t){e.customer_name=t},expression:"customer_name"}}),e._v(" "),o("CInput",{attrs:{type:"text",label:"Customer Mobile",placeholder:"Customer Mobile..."},model:{value:e.customer_mobile,callback:function(t){e.customer_mobile=t},expression:"customer_mobile"}}),e._v(" "),o("CInput",{attrs:{type:"text",label:"code",placeholder:"code..."},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}}),e._v(" "),o("CInput",{attrs:{type:"text",label:"discount",placeholder:"discount..."},model:{value:e.discount,callback:function(t){e.discount=t},expression:"discount"}}),e._v(" "),o("CInput",{attrs:{type:"text",label:"deliver fees",placeholder:"deliver fees..."},model:{value:e.deliver_fees,callback:function(t){e.deliver_fees=t},expression:"deliver_fees"}}),e._v(" "),o("CInput",{attrs:{type:"date",label:"delivery time",placeholder:"delivery time..."},model:{value:e.delivery_time,callback:function(t){e.delivery_time=t},expression:"delivery_time"}})],2)],1)],1),e._v(" "),o("CCol",{attrs:{col:"12",lg:"6"}},[e._l(e.products,(function(t,r){return o("CCard",{key:r,attrs:{"no-header":""}},[o("CCardBody",[o("CInput",{attrs:{type:"text",label:"Product Name",placeholder:"Product Name"},model:{value:t.name,callback:function(o){e.$set(t,"name",o)},expression:"product.name"}}),e._v(" "),o("CInput",{attrs:{type:"text",label:"quantity",placeholder:"quantity"},model:{value:t.quantity,callback:function(o){e.$set(t,"quantity",o)},expression:"product.quantity"}}),e._v(" "),o("CInput",{attrs:{type:"text",label:"Price",placeholder:"Price"},model:{value:t.one_piece_price,callback:function(o){e.$set(t,"one_piece_price",o)},expression:"product.one_piece_price"}}),e._v(" "),o("CInput",{attrs:{type:"text",label:"note",placeholder:"note"},model:{value:t.note,callback:function(o){e.$set(t,"note",o)},expression:"product.note"}})],1)],1)})),e._v(" "),o("CButton",{staticClass:"mb-3",attrs:{color:"success"},on:{click:function(t){return e.store()}}},[e._v("Save")]),e._v(" "),o("CButton",{staticClass:"mb-3",attrs:{color:"warning"},on:{click:e.goBack}},[e._v("Back")]),e._v(" "),o("CButton",{staticClass:"mb-3",attrs:{color:"info"},on:{click:function(t){return e.addProduct()}}},[e._v("Add more product")])],2)],1)}),[],!1,null,null,null);t.default=a.exports}}]);