(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{525:function(t,e,a){"use strict";a.r(e);var n=a(2),o=a.n(n),l={name:"Creat",data:function(){return{allStatus:{},name:"",mobile:"",identity:"",nationality:"",password:"",application_status_id:"",age:"",bank_name:"",vehicle_type:"",nationalityId:"",contract_type:"",bank_iban:"",imageIndex:null,showMessage:!1,message:"",alertColor:"",dismissSecs:7,dismissCountDown:0,showDismissibleAlert:!1}},methods:{goBack:function(){this.$router.go(-1),this.$router.replace({path:"/driver-applications"})},store:function(){var t=this,e=new FormData;e.append("name",this.name),e.append("mobile",this.mobile),e.append("identity",this.identity),e.append("password",this.password),e.append("age",this.age),e.append("bank_name",this.bank_name),e.append("vehicle_type",this.vehicle_type),e.append("nationalityId",this.nationalityId),e.append("nationality",this.nationality),e.append("contract_type",this.contract_type),e.append("bank_iban",this.bank_iban),e.append("application_status_id",this.application_status_id),o.a.post("/api/driver-applications?token="+localStorage.getItem("api_token"),e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t.alertColor="success",t.message="Successfully Created Fleet.",t.showAlert()})).catch((function(e){console.log(e),t.alertColor="danger",t.message="unexpected error occurred in creating new fleet.",t.showAlert()}))},countDownChanged:function(t){this.dismissCountDown=t},showAlert:function(){this.dismissCountDown=this.dismissSecs},getFleets:function(){this.loading=!0;var t=this;this.items=[],o.a.get("/api/driver-applications/create?token="+localStorage.getItem("api_token")).then((function(e){console.log(e),t.allStatus=e.data.status,console.log("res"+e)})).catch((function(e){console.log(e),t.loading=!1,t.alertColor="danger",t.message="unexpected error occurred in getting fleets.",t.showAlert()}))}},mounted:function(){this.getFleets()}},i=a(1),s=Object(i.a)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CRow",[a("CCol",{attrs:{col:"12",lg:"6"}},[a("CCard",{attrs:{"no-header":""}},[a("CCardBody",[a("template",{slot:"header"},[t._v("\n           Create Users\n          ")]),t._v(" "),a("CAlert",{attrs:{show:t.dismissCountDown,color:t.alertColor,fade:""},on:{"update:show":function(e){t.dismissCountDown=e}}},[t._v("\n            ("+t._s(t.dismissCountDown)+") "+t._s(t.message)+"\n          ")]),t._v(" "),a("CInput",{attrs:{type:"text",label:"Name",placeholder:"Name"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),t._v(" "),a("CInput",{attrs:{type:"text",label:"Mobile",placeholder:"Mobile"},model:{value:t.mobile,callback:function(e){t.mobile=e},expression:"mobile"}}),t._v(" "),a("CInput",{attrs:{type:"text",label:"Identity",placeholder:"Identity"},model:{value:t.identity,callback:function(e){t.identity=e},expression:"identity"}}),t._v(" "),a("CInput",{attrs:{type:"text",label:"Nationality",placeholder:"Nationality"},model:{value:t.nationality,callback:function(e){t.nationality=e},expression:"nationality"}}),t._v(" "),a("CInput",{attrs:{type:"text",label:"Age",placeholder:"Age"},model:{value:t.age,callback:function(e){t.age=e},expression:"age"}}),t._v(" "),a("CInput",{attrs:{type:"text",label:"nationalityId",placeholder:"nationalityId"},model:{value:t.nationalityId,callback:function(e){t.nationalityId=e},expression:"nationalityId"}}),t._v(" "),a("CInput",{attrs:{type:"text",label:"Password",placeholder:"Password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],2)],1)],1),t._v(" "),a("CCol",{attrs:{col:"12",lg:"6"}},[a("CCard",{attrs:{"no-header":""}},[a("CCardBody",[a("CInput",{attrs:{type:"text",label:"Vehicle Type",placeholder:"vehicle_type"},model:{value:t.vehicle_type,callback:function(e){t.vehicle_type=e},expression:"vehicle_type"}}),t._v(" "),a("CInput",{attrs:{type:"text",label:"bank_name",placeholder:"bank_name"},model:{value:t.bank_name,callback:function(e){t.bank_name=e},expression:"bank_name"}}),t._v(" "),a("CInput",{attrs:{type:"text",label:"bank_iban",placeholder:"bank_iban"},model:{value:t.bank_iban,callback:function(e){t.bank_iban=e},expression:"bank_iban"}}),t._v(" "),a("div",{staticClass:"form-group",attrs:{role:"group"}},[a("label",{},[t._v("  Application Status ")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.application_status_id,expression:"application_status_id"}],staticClass:"form-control",attrs:{type:"text"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.application_status_id=e.target.multiple?a:a[0]}}},t._l(t.allStatus,(function(e){return a("option",{domProps:{value:e.id}},[t._v(" "+t._s(e.name)+" ")])})),0)]),t._v(" "),a("div",{staticClass:"form-group",attrs:{role:"group"}},[a("label",{},[t._v(" Contract Type ")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.contract_type,expression:"contract_type"}],staticClass:"form-control",attrs:{type:"text"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.contract_type=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"full_time"}},[t._v(" Full Time ")]),t._v(" "),a("option",{attrs:{value:"free_lance"}},[t._v(" FreeLance ")])])]),t._v(" "),a("CButton",{attrs:{color:"primary"},on:{click:function(e){return t.store()}}},[t._v("Save")]),t._v(" "),a("CButton",{attrs:{color:"primary"},on:{click:t.goBack}},[t._v("Back")])],1)],1)],1)],1)}),[],!1,null,null,null);e.default=s.exports}}]);