(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{133:function(t,e,n){var s=n(221);"string"==typeof s&&(s=[[t.i,s,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(17)(s,o);s.locals&&(t.exports=s.locals)},220:function(t,e,n){"use strict";n(133)},221:function(t,e,n){(t.exports=n(16)(!1)).push([t.i,"\n.d-inline{\n  font-size: 10px;\n}\ntd{\n  font-size: 12px;\n}\n",""])},527:function(t,e,n){"use strict";n.r(e);var s=n(2),o=n.n(s),i={name:"Supplier",data:function(){return{items:[],fields:["id","name","phone","company_name","status","operation"],sorter:{column:"",asc:!1},activePage:1,maxPages:1,message:"",alertColor:"",showMessage:!1,dismissSecs:3,dismissCountDown:0,showDismissibleAlert:!1,columnFilter:{},pageOfItems:[],loading:!1,totalCount:0,statuses:[],allStatus:[]}},watch:{activePage:function(){this.getFleets()},sorter:{handler:function(){this.getFleets()},deep:!0},columnFilter:function(){this.getFleets()}},methods:{changeItemsLimit:function(t){this.itemsLimit=t,this.getFleets()},editLink:function(t){return"supplier/".concat(t.toString(),"/edit")},showLink:function(t){return"supplier/".concat(t.toString(),"/show")},createFleet:function(){this.$router.push({path:"supplier/create"})},editFleet:function(t){var e=this.editLink(t);this.$router.push({path:e})},showFleet:function(t){var e=this.showLink(t);this.$router.push({path:e})},deleteFleet:function(t){var e=this;o.a.post("/api/users/"+t+"?token="+localStorage.getItem("api_token"),{_method:"DELETE"}).then((function(t){e.alertColor="success",e.message="Successfully deleted user.",e.showAlert(),e.getFleets()})).catch((function(t){console.log(t),e.alertColor="danger",e.message="unexpected error occurred in delete the fleet.",e.showAlert()}))},getBadge:function(t){return"Active"===t?"success":"Inactive"===t?"secondary":"Pending"===t?"warning":"Banned"===t?"danger":"primary"},countDownChanged:function(t){this.dismissCountDown=t},showAlert:function(){this.dismissCountDown=this.dismissSecs},getFleets:function(){this.loading=!0;var t=this;this.items=[],o.a.get("/api/supplier?page="+t.activePage+"&token="+localStorage.getItem("api_token"),{params:{sorter:t.sorter,columnFilter:t.columnFilter,itemsLimit:t.itemsLimit}}).then((function(e){console.log(e),t.items=t.items.concat(e.data.fleets.data),t.maxPages=e.data.fleets.last_page,t.allStatus=e.data.statuses,t.loading=!1})).catch((function(e){console.log(e),t.loading=!1,t.alertColor="danger",t.message="unexpected error occurred in getting clients.",t.showAlert()}))},makeFilter:function(){this.getFleets()}},mounted:function(){this.getFleets()}},a=(n(220),n(1)),r=Object(a.a)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("CRow",[n("CCol",{attrs:{col:"12",xl:"12"}},[n("CRow",[n("CCol",{attrs:{col:"3"}},[n("CButton",{staticClass:"m-3",attrs:{color:"primary"},on:{click:function(e){return t.createFleet()}}},[t._v("Create Suppliers")])],1)],1)],1),t._v(" "),n("CCol",{attrs:{col:"12",xl:"12"}},[n("transition",{attrs:{name:"slide"}},[n("CCard",[n("CCardHeader",[n("span",{style:t.color="red"},[t._v("Suppliers")])]),t._v(" "),n("CCardBody",[n("CAlert",{attrs:{show:t.dismissCountDown,color:t.alertColor,fade:""},on:{"update:show":function(e){t.dismissCountDown=e}}},[t._v("\n          ("+t._s(t.dismissCountDown)+") "+t._s(t.message)+"\n        ")]),t._v(" "),n("CCol",{attrs:{sm:"12"}},[n("CDataTable",{attrs:{items:t.items,fields:t.fields,"index-column":"",hover:"","table-column":"","items-per-page-select":"",sorter:{external:!0,resetable:!0},columnFilter:{external:!0,lazy:!0},"sorter-value":t.sorter,"column-filter-value":t.columnFilter,loading:t.loading},on:{"pagination-change":t.changeItemsLimit,"update:sorterValue":function(e){t.sorter=e},"update:sorter-value":function(e){t.sorter=e},"update:columnFilterValue":function(e){t.columnFilter=e},"update:column-filter-value":function(e){t.columnFilter=e}},scopedSlots:t._u([{key:"name",fn:function(e){var s=e.item;return[n("td",{staticStyle:{width:"270px"}},[n("a",{attrs:{href:"#"},on:{click:function(e){return t.showFleet(s.id)}}},[t._v(t._s(s.name))])])]}},{key:"status",fn:function(e){var s=e.item;return[n("td",[n("CBadge",{attrs:{color:t.getBadge(s.status)}},[t._v(t._s(s.status))])],1)]}},{key:"operation",fn:function(e){var s=e.item;return[n("td",[n("CButtonGroup",[n("CButton",{attrs:{size:"sm",color:"info"},on:{click:function(e){return t.showFleet(s.id)}}},[n("CIcon",{attrs:{name:"cil-list"}})],1),t._v(" "),n("CButton",{attrs:{size:"sm",color:"warning"},on:{click:function(e){return t.editFleet(s.id)}}},[n("CIcon",{attrs:{name:"cil-pencil"}})],1),t._v(" "),n("CButton",{attrs:{size:"sm",color:"danger"},on:{click:function(e){return t.deleteFleet(s.id)}}},[n("CIcon",{attrs:{name:"cil-trash"}})],1)],1)],1)]}}])}),t._v(" "),n("CPagination",{attrs:{pages:t.maxPages,"active-page":t.activePage},on:{"update:activePage":function(e){t.activePage=e},"update:active-page":function(e){t.activePage=e}}})],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=r.exports}}]);