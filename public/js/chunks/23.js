(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{506:function(t,e,r){"use strict";r.r(e);var o=r(2),n=r.n(o),a=r(3),i=r(491),s=r(492),l=r(493),d=r(494),c=r(495);function u(t,e,r,o,n,a,i,s,l,d){"boolean"!=typeof i&&(l=s,s=i,i=!1);var c,u="function"==typeof r?r.options:r;if(t&&t.render&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0,n&&(u.functional=!0)),o&&(u._scopeId=o),a?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,l(t)),t&&t._registeredComponents&&t._registeredComponents.add(a)},u._ssrRegister=c):e&&(c=i?function(t){e.call(this,d(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,s(t))}),c)if(u.functional){var p=u.render;u.render=function(t,e){return c.call(e),p(t,e)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,c):[c]}return r}var p=u({},void 0,{name:"LIconDefault",props:{imagePath:{type:String,custom:!0,default:""}},mounted:function(){a.Icon.Default.imagePath=this.imagePath,function(t,e,r,o){var n=function(o){var n,i="set"+((n=o)&&"function"==typeof n.charAt?n.charAt(0).toUpperCase()+n.slice(1):n),s=r[o].type===Object||r[o].type===Array||Array.isArray(r[o].type);r[o].custom&&t[i]?t.$watch(o,(function(e,r){t[i](e,r)}),{deep:s}):"setOptions"===i?t.$watch(o,(function(t,r){Object(a.setOptions)(e,t)}),{deep:s}):e[i]&&t.$watch(o,(function(t,r){e[i](t)}),{deep:s})};for(var i in r)n(i)}(this,{},this.$options.props)},methods:{setImagePath:function(t){a.Icon.Default.imagePath=t}},render:function(){return null}},void 0,void 0,void 0,!1,void 0,void 0,void 0);function f(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],o=!0,n=!1,a=void 0;try{for(var i,s=t[Symbol.iterator]();!(o=(i=s.next()).done)&&(r.push(i.value),!e||r.length!==e);o=!0);}catch(t){n=!0,a=t}finally{try{o||null==s.return||s.return()}finally{if(n)throw a}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return m(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,o=new Array(e);r<e;r++)o[r]=t[r];return o}function v(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function C(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?v(Object(r),!0).forEach((function(e){_(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function _(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var h={name:"Order",components:{LMap:i.a,LTileLayer:s.a,LMarker:l.a,LPopup:d.a,LTooltip:c.a,LIconDefault:p},data:function(){return{message:"",showMessage:!1,alertColor:"",dismissSecs:3,dismissCountDown:0,order:[],products:[],status:[],fleet:[],productFields:["name","one_piece_price","quantity","total_price","note"],fields:[{key:"key"},{key:"value"}],zoom:9,path:"../../../public/markers/1.png",center:Object(a.latLng)(24.763595,46.74009),url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',pickupPoint:Object(a.latLng)(24.763595,46.74009),deliveryPoint:Object(a.latLng)(24.763595,46.74009),currentZoom:11.5,currentCenter:Object(a.latLng)(24.763595,46.74009),mapOptions:{zoomSnap:.5},showMap:!0}},methods:{zoomUpdate:function(t){this.currentZoom=t},centerUpdate:function(t){this.currentCenter=t},innerClick:function(){alert("Click!")},showAlert:function(){this.dismissCountDown=this.dismissSecs},getOrderDetails:function(){var t=this;n.a.get("/api/order/"+t.$route.params.id+"?token="+localStorage.getItem("api_token")).then((function(e){t.pickupPoint=Object(a.latLng)(e.data.order.pick_up_lat,e.data.order.pick_up_lng),t.deliveryPoint=Object(a.latLng)(e.data.order.delivery_lat,e.data.order.delivery_lng);var r=C({},e.data.order);delete r.products,delete r.status,delete r.fleet,delete r.deleted_at,delete r.pick_up_lng,delete r.pick_up_lat,delete r.delivery_lng,delete r.delivery_lat;var o=Object.entries(r);if(t.order=o.map((function(t){var e=f(t,2);return{key:e[0],value:e[1]}})),null!==e.data.order.products&&(t.products=e.data.order.products),null!==e.data.order.status){var n=C({},e.data.order.status);delete n.class,delete n.color,delete n.created_at,delete n.updated_at;var i=Object.entries(n);t.status=i.map((function(t){var e=f(t,2);return{key:e[0],value:e[1]}}))}if(null!==e.data.order.fleet){var s=C({},e.data.order.fleet);delete s.user_id,delete s.created_at,delete s.updated_at;var l=Object.entries(s);t.fleet=l.map((function(t){var e=f(t,2);return{key:e[0],value:e[1]}}))}})).catch((function(e){console.log(e),t.alertColor="danger",t.message="unexpected error occurred.",t.showAlert()}))},goBack:function(){this.$router.go(-1)}},mounted:function(){this.getOrderDetails()}},y=r(1),g=Object(y.a)(h,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("CRow",[r("CCol",{attrs:{col:"12",lg:"6"}},[r("CCard",[r("CCardHeader",[t._v("\n          Order id:  "+t._s(t.$route.params.id)+"\n        ")]),t._v(" "),r("CCardBody",[r("CAlert",{attrs:{show:t.dismissCountDown,color:t.alertColor,fade:""},on:{"update:show":function(e){t.dismissCountDown=e}}},[t._v("\n            ("+t._s(t.dismissCountDown)+") "+t._s(t.message)+"\n          ")]),t._v(" "),r("CDataTable",{attrs:{striped:"",small:"",fixed:"",items:t.order,fields:t.fields}})],1),t._v(" "),r("CCardFooter",[r("CButton",{attrs:{color:"primary"},on:{click:t.goBack}},[t._v("Back")])],1)],1)],1),t._v(" "),r("CCol",{attrs:{col:"12",lg:"6"}},[r("CCard",[r("CCardHeader",[t._v("\n          Maps\n        ")]),t._v(" "),r("CCardBody",[r("div",{staticStyle:{height:"500px",width:"100%"}},[t.showMap?r("l-map",{staticStyle:{height:"80%"},attrs:{zoom:t.zoom,center:t.center,options:t.mapOptions},on:{"update:center":t.centerUpdate,"update:zoom":t.zoomUpdate}},[r("l-tile-layer",{attrs:{url:t.url,attribution:t.attribution}}),t._v(" "),r("l-marker",{attrs:{"lat-lng":t.pickupPoint}},[r("l-popup",[r("div",{on:{click:t.innerClick}},[t._v("\n                    pickup here\n                  ")])])],1),t._v(" "),r("l-marker",{attrs:{"lat-lng":t.deliveryPoint}},[r("l-tooltip",{attrs:{options:{permanent:!0,interactive:!0}}},[r("div",{on:{click:t.innerClick}},[t._v("\n                   Delivery here\n                  ")])])],1),t._v(" "),r("l-icon-default",{attrs:{"image-path":t.path}})],1):t._e()],1)])],1),t._v(" "),r("CCard",[r("CCardHeader",[t._v("\n         Status Information\n        ")]),t._v(" "),r("CCardBody",[r("CAlert",{attrs:{show:t.dismissCountDown,color:t.alertColor,fade:""},on:{"update:show":function(e){t.dismissCountDown=e}}},[t._v("\n            ("+t._s(t.dismissCountDown)+") "+t._s(t.message)+"\n          ")]),t._v(" "),r("CDataTable",{attrs:{striped:"",small:"",fixed:"",items:t.status,fields:t.fields}})],1),t._v(" "),r("CCardFooter")],1),t._v(" "),r("CCard",[r("CCardHeader",[t._v("\n          Driver Information\n        ")]),t._v(" "),r("CCardBody",[r("CAlert",{attrs:{show:t.dismissCountDown,color:t.alertColor,fade:""},on:{"update:show":function(e){t.dismissCountDown=e}}},[t._v("\n            ("+t._s(t.dismissCountDown)+") "+t._s(t.message)+"\n          ")]),t._v(" "),r("CDataTable",{attrs:{striped:"",small:"",fixed:"",items:t.fleet,fields:t.fields}})],1),t._v(" "),r("CCardFooter")],1)],1),t._v(" "),r("CCol",{attrs:{col:"12",lg:"12"}},[r("CCard",[r("CCardHeader",[t._v("\n         Products Information\n        ")]),t._v(" "),r("CCardBody",[r("CAlert",{attrs:{show:t.dismissCountDown,color:t.alertColor,fade:""},on:{"update:show":function(e){t.dismissCountDown=e}}},[t._v("\n            ("+t._s(t.dismissCountDown)+") "+t._s(t.message)+"\n          ")]),t._v(" "),r("CDataTable",{attrs:{striped:"",small:"",fixed:"",items:t.products,fields:t.productFields}})],1),t._v(" "),r("CCardFooter",[r("CButton",{attrs:{color:"primary"},on:{click:t.goBack}},[t._v("Back")])],1)],1)],1)],1)}),[],!1,null,null,null);e.default=g.exports}}]);